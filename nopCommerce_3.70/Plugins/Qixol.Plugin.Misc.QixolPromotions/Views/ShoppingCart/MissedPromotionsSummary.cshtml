@model MissedPromotionsModel

@using Qixol.Plugin.Misc.Promo.Models.MissedPromotions;
@using global::Nop.Web.Models.Catalog;
@using global::Nop.Core.Domain.Tax;
@using global::Nop.Core;
@using global::Nop.Core.Infrastructure;
@using global::Nop.Web.Models.ShoppingCart;
@using global::Nop.Web.Framework.Themes;

@{
    var webHelper = EngineContext.Current.Resolve<IWebHelper>();
    var themeName = EngineContext.Current.Resolve<IThemeContext>().WorkingThemeName;

    Html.AppendCssFileParts(string.Format("~/Plugins/Misc.QixolPromo/Themes/{0}/Content/css/styles.css", themeName));
}

@* inline style temporarily until able to add css from one page checkout *@
<style>
    .promotion-item {
        color: #4ab2f1;
        font-style: italic;
        font-weight: normal;
    }

    .no-bottom-border td {
        border-bottom: 0px !important;
    }

    .cart-promotion-row td {
        line-height: 15px !important;
    }

    .cart-coupon-row td {
        line-height: 15px !important;
    }

    .truncate-140 {
        float: left;
        max-width: 140px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

        .truncate-140:hover {
            overflow: visible;
        }
</style>

<div class="order-summary-content">
    @*@Html.Widget("order_summary_content_before")*@
    @*@Html.Partial("_OrderReviewData", Model.OrderReviewData)*@
    @*we add enctype = "multipart/form-data" because "File upload" attribute control type requires it*@
    <div class="table-wrapper">
        <table class="cart">
            <colgroup>
                <col width="1" />
                <col />
                <col width="1" />
            </colgroup>
            <thead>
                <tr>
                    <th class="product-picture">
                        @T("ShoppingCart.Image")
                    </th>
                    <th class="product">
                        @T("ShoppingCart.Product(s)")
                    </th>
                    <th class="unit-price">
                        @T("ShoppingCart.UnitPrice")
                    </th>
                </tr>
            </thead>
            <tbody>
                @Html.Partial("_MissedPromotionsGrid", Model)
            </tbody>
        </table>
    </div>
    <div class="cart-footer">

        <div class="totals">
            @if (true)
            {
                <div class="checkout-buttons">
                    <button type="button" id="checkout" name="checkout" value="checkout" class="button-1 checkout-button" onclick="window.location = '/checkout';">
                        @T("Checkout.Button")
                    </button>
                </div>
                    <div class="addon-buttons">
                        @*Payment method buttons (e.g. GoogleCheckoutButton, Paypal Express)*@
                        @*@Html.Partial("_ButtonPaymentMethod", Model)*@
                    </div>
            }
        </div>
    </div>
    @*@Html.Widget("order_summary_content_after")*@
</div>
