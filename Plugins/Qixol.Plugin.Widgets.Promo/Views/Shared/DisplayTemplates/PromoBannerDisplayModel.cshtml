@model PromoBannerDisplayModel

@{
    Layout = null;
}


@helper RenderBannerPicture(string pictureUrl, string text, string link, string dataTransition = "")
{
if (!string.IsNullOrEmpty(pictureUrl))
{
    if (!string.IsNullOrEmpty(link))
    {
            <a href="@link">
                <img src="@pictureUrl" data-thumb="@pictureUrl" data-transition="@dataTransition" alt="" title="@text" />
            </a>
    }
    else
    {
            <img src="@pictureUrl" data-thumb="@pictureUrl" data-transition="@dataTransition" alt="" title="@text" />
    }
}
}

@if (Model.Pictures.Count == 1)
{
    var usePicture = Model.Pictures.First();

    <div class="banner-single-image">
        @RenderBannerPicture(usePicture.PictureUrl, usePicture.Comment, usePicture.Url, string.Empty)
    </div>
}
else
{
    if (Model.TransitionType.Equals(Qixol.Plugin.Widgets.Promo.Domain.NivoTransition.STACKHORIZONTAL.TransitionType))
    {
        <div class="stack-wrapper">
            @foreach (var bannerPicture in Model.Pictures)
            {
                @RenderBannerPicture(bannerPicture.PictureUrl, bannerPicture.Comment, bannerPicture.Url, Model.TransitionType)
            }
        </div>
    }
    else
    {
        if (Model.TransitionType.Equals(Qixol.Plugin.Widgets.Promo.Domain.NivoTransition.STACKVERTICAL.TransitionType))
        {
            <div class="stack-wrapper">
                @foreach (var bannerPicture in Model.Pictures)
                {
                    @RenderBannerPicture(bannerPicture.PictureUrl, bannerPicture.Comment, bannerPicture.Url, Model.TransitionType)<br />
                }
            </div>
        }
        else
        {
            <div class="banner-wrapper theme-custom" style="margin-top: 0px;">
                <div id="nivo-slider_@Model.BannerId" class="nivoSlider">
                    @foreach (var bannerPicture in Model.Pictures)
                    {
                        @RenderBannerPicture(bannerPicture.PictureUrl, bannerPicture.Comment, bannerPicture.Url, Model.TransitionType)
                    }
                </div>
            </div>

            <script type="text/javascript">
                $(window).load(function () {
                    $('#nivo-slider_@Model.BannerId').nivoSlider();
                });
            </script>
        }
    }
}
